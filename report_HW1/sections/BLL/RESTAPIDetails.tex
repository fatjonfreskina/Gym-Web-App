\subsection{REST API Details}

\subsection*{Secretary}

\begin{itemize}

    \item URL: \texttt{secretary/rest/addsubscription}
    \item Method: \texttt{POST}
    \item URL Parameters: No parameters are required in the URL
    \item Data Parameters: 
    \begin{itemize}
    	\item trainee = \{string\}
     	\item course\_name = \{string\}
     	\item course\_edition\_id = \{integer\}
     	\item discount = \{integer\} (optional)
     	\item duration = \{integer\}
    \end{itemize}
    \item Success Response:
    Code: 200 OK\\
    Content:  \{"message" : "OK", "isError" : "False"\}
    \item Error Response:
	
	Code : 400 BAD\_REQUEST\\
	Content : \{"message" : "Invalid Fields", "isError" : "True"\}\\
	When : If some of the mandatory parameters are not provided or they are not correct for what concers their domain
	
	Code : 400 BAD\_REQUEST\\
	Content : \{"message" : "Overlapping Subscriptions", "isError" : "True"\}\\
    When : The "user" request to subscribe for a courseedition that is already subscribed
    
    Code : 400 BAD\_REQUEST\\
    Content : \{"message" : "Remaining days of the selected course are less than the subscription duration", "isError" : "True"\}\\
    When : The duration of the course is less than the subscription duration
	
	Code : 400 BAD\_REQUEST\\
	Content : \{"message" : "Already done free trial", "isError" : "True"\}\\
	When : The "user" has already done a free trial subscription for a course of any edition
	    
    Code : 500 INTERNAL\_ERROR\\
    Content : \{"message" : "An internal error occured", "isError" : "True"\}\\
    When : If there is an SQLException or a NamingException.\\
    ------------------------------------------------------------------------------------------------------------------------------------
\end{itemize}

